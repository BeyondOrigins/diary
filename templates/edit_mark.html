{% extends "index.html" %}
{% block body %}
    <div class="container">
        <div class="main-title animated">Поставить оценку</div>
        <div class="mark-properties-container animated">
            <form method="POST">
                <div class="element">
                    <label>Оценка</label>
                    <select name="mark" id="mark-select" class="select">
                        <option value="5">5</option>
                        <option value="4">4</option>
                        <option value="3">3</option>
                        <option value="2">2</option>
                    </select>
                </div>
                <div class="element">
                    <label>Тип задания</label>
                    <select name="task_type" id="task-type-select" class="select">
                        <option value="Опрос">Опрос</option>
                        <option value="Работа на уроке">Работа на уроке</option>
                        <option value="Домашняя работа">Домашняя работа</option>
                        <option value="Самостоятельная работа">Самостоятельная работа</option>
                        <option value="Контрольная работа">Контрольная работа</option>
                        <option value="Тест">Тест</option>
                        <option value="Учебное задание">Учебное задание</option>
                    </select>
                </div>
                <div class="element">
                    <label>Тема</label>
                    <input type="text" class="form__input" name="topic" value="{{mark.topic}}">
                </div>
                <div class="element">
                    <input type="submit" class="button1" value="Добавить">
                </div>
            </form>
            <div class="element">
                <a href="/pupils/marks/{{mark.user_id}}">
                    <button class="button2">Отмена</button>
                </a>
            </div>
            <div class="element">
                <div id="error"></div>
            </div>
        </div>
    </div>
    <script>
        document.getElementsByTagName("form")[0].onsubmit = function() {
            if (document.getElementsByName("topic")[0].value == "") {
                document.getElementById("error").innerHTML = "Тема должна быть указана";
                return false;
            }
            return true;
        }
        let mark = Number("{{mark.mark}}");
        let task_type = "{{mark.task_type}}";
        document.getElementById("mark-select").value = mark;
        document.getElementById("task-type-select").value = task_type;
    </script>
{% endblock %}
{% block header %}
    <a href="/" class="header__element">
        <div>На главную</div>
    </a>
    <a href="/pupils" class="header__element">
        <div>Мои ученики</div>
    </a>
    <a href="/profile" class="header__element">
        <div>{{ session["name"] }}</div>
    </a>
{% endblock %}